---
import { githubID, size } from '../../avatar.mjs';
const avatar = `https://avatars.githubusercontent.com/u/${githubID}?s=${size}`
---
<picture>
    <!-- <source srcset={avatar} type="image/webp"> -->
    <img src={avatar} alt="profile picture" id="pfp" class="circle blur" width="125" height="125">
</picture>

<style>
    @media only screen and (min-width: 600px) {
        #pfp {
            width: 150px;
            height: 150px;
        }
    }
</style>

<script>
    const updatePFP = () => {
        const pfp = document.getElementById("pfp");
        const resize = pfp?.getAttribute("src")?.split("?")[0];
        if (!pfp || !resize) return;

        pfp.setAttribute("src", resize);
        pfp.classList.add("unblur");
        pfp.classList.remove("blur");
    }

    document.addEventListener('astro:page-load', updatePFP);
</script>
